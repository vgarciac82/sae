<div class="wrapper hold-transition sidebar-mini">
  <section class="content pt-4 px-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="mb-0">Pago a Proveedores</h2>
      <button class="btn btn-primary" data-toggle="modal" data-target="#modalNuevoPago">
        <i class="fas fa-plus"></i> Registrar Pago Pendiente
      </button>
    </div>
    <div class="table-responsive">
      <table id="tablaProveedores" class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>N° Proveedor</th>
            <th>Nombre</th>
            <th>Concepto</th>
            <th>Fecha Límite</th>
            <th>Importe</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tbodyProveedores"></tbody>
      </table>
    </div>
  </section>

  <!-- Modal para registrar nuevo pago pendiente -->
  <div class="modal fade" id="modalNuevoPago" tabindex="-1" role="dialog" aria-labelledby="modalNuevoPagoLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Registrar Nuevo Pago Pendiente</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="formNuevoPago">
            <div class="form-group">
              <label>Nombre del Proveedor</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="form-group">
              <label>Concepto</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="form-group">
              <label>Importe</label>
              <input type="number" step="0.01" class="form-control" required>
            </div>
            <div class="form-group">
              <label>Fecha Límite de Pago</label>
              <input type="date" class="form-control" required>
            </div>
            <div class="form-group">
              <label>Periodicidad</label>
              <select class="form-control" required>
                <option>Mensual</option>
                <option>Semanal</option>
                <option>Anual</option>
              </select>
            </div>
            <div class="form-group">
              <label>CLABE Interbancaria</label>
              <input type="text" class="form-control">
            </div>
            <div class="form-group">
              <label>Método de Pago</label>
              <input type="text" class="form-control">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" form="formNuevoPago">Guardar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Ver historial de pagos anteriores -->
  <div aria-hidden="true" aria-labelledby="modalHistorialPagosLabel" class="modal fade" id="modalHistorialPagos"
    role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Historial de Pagos del Proveedor</h5>
          <button aria-label="Cerrar" class="close" data-dismiss="modal" type="button">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <table class="table table-bordered">
            <thead class="thead-light">
              <tr>
                <th>Fecha</th>
                <th>Concepto</th>
                <th>Importe</th>
                <th>Referencia</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-07-10</td>
                <td>Servicio de Internet</td>
                <td>$1,200.00</td>
                <td>BNTR123456789</td>
              </tr>
              <tr>
                <td>2025-06-10</td>
                <td>Servicio de Internet</td>
                <td>$1,200.00</td>
                <td>BNTR987654321</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal: Registrar Pago -->
  <div aria-hidden="true" aria-labelledby="modalRegistrarPagoLabel" class="modal fade" id="modalRegistrarPago"
    role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Registrar Pago</h5>
          <button aria-label="Cerrar" class="close" data-dismiss="modal" type="button">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label>Referencia de Pago</label>
              <input class="form-control" placeholder="Ej. BNTR123456789" type="text" />
            </div>
            <div class="form-group">
              <label>Fecha del Pago</label>
              <input class="form-control" type="date" />
            </div>
            <div class="form-group">
              <label>Observaciones</label>
              <textarea class="form-control" rows="2"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary">Guardar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-4">
    <div class="card bg-light">
      <div class="card-body d-flex justify-content-between align-items-center">
        <div>
          <h5 class="mb-1">Resumen de Pagos del Mes</h5>
          <small>Total de pagos registrados este mes</small>
        </div>
        <h3 class="text-success mb-0">$1,650.00</h3>
      </div>
    </div>
  </div>
</div>




<script>
  $(document).ready(function () {

    const ejemplo = [
      ["001", "Distribuidora X", "Servicio de Internet", "2025-08-20", "$1,200.00"],
      ["002", "Papelería ABC", "Material Oficina", "2025-08-25", "$450.00"]
    ];
    ejemplo.forEach(p => {
      $('#tbodyProveedores').append(`
      <tr>
        <td>${p[0]}</td>
        <td>${p[1]}</td>
        <td>${p[2]}</td>
        <td>${p[3]}</td>
        <td>${p[4]}</td>
        <td>
          <button class="btn btn-sm btn-outline-success btn-registrar-pago" title="Registrar Pago"><i class="fas fa-dollar-sign"></i></button>
          <button class="btn btn-sm btn-outline-info btn-ver-historial" title="Ver Pagos Anteriores"><i class="fas fa-history"></i></button>
        </td>
      </tr>
    `);
    });
    $('#tablaProveedores').DataTable();
    $(document).on("click", ".btn-registrar-pago", function () {
      $('#modalRegistrarPago').modal('show');
    });
    $(document).on("click", ".btn-ver-historial", function () {
      $('#modalHistorialPagos').modal('show');
    });
  });





</script>